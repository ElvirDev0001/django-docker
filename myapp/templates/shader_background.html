<!DOCTYPE html>
<html>

<head>
    <title>WebGL Fullscreen Animated Shader</title>
    <style>
        body, html { margin: 0; padding: 0; overflow: hidden; }
        canvas { display: block; width: 100%; height: 100%; }
    </style>
</head>

<body>
    <canvas id="canvas"></canvas>
    <script>
        var canvas = document.getElementById("canvas");
        var gl = canvas.getContext("webgl2");

        if (!gl) {
            alert("Your browser does not support WebGL2");
        }

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            gl.viewport(0, 0, canvas.width, canvas.height);
            if (program) {
                var iResolutionLocation = gl.getUniformLocation(program, "iResolution");
                gl.useProgram(program);
                gl.uniform2f(iResolutionLocation, canvas.width, canvas.height);
            }
        }

        window.addEventListener('resize', resizeCanvas, false);

        // Vertex Shader
        var vsSource = `#version 300 es
        in vec2 vertPosition;
        void main() {
            gl_Position = vec4(vertPosition, 0.0, 1.0);
        }`;

        // Fragment Shader
        var fsSource = `#version 300 es
        precision highp float;
        uniform vec2 iResolution;
        uniform float iTime;
        out vec4 fragColor;
        void main() {
            vec2 uv = gl_FragCoord.xy / iResolution.xy;
            vec3 col = 0.5 + 0.5 * cos(iTime + uv.xyx + vec3(0, 2, 4));
            fragColor = vec4(col, 1.0);
        }`;

        // Compile shaders and create program
        var vertexShader = gl.createShader(gl.VERTEX_SHADER);
        gl.shaderSource(vertexShader, vsSource);
        gl.compileShader(vertexShader);

        var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);
        gl.shaderSource(fragmentShader, fsSource);
        gl.compileShader(fragmentShader);

        var program = gl.createProgram();
        gl.attachShader(program, vertexShader);
        gl.attachShader(program, fragmentShader);
        gl.linkProgram(program);
        gl.useProgram(program);

        // Set up vertex data and buffers
        var vertices = new Float32Array([
            -1.0, -1.0,
             1.0, -1.0,
            -1.0,  1.0,
             1.0,  1.0,
        ]);
        var vertexBuffer = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);
        gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);
        var positionAttribLocation = gl.getAttribLocation(program, "vertPosition");
        gl.vertexAttribPointer(positionAttribLocation, 2, gl.FLOAT, false, 0, 0);
        gl.enableVertexAttribArray(positionAttribLocation);

        // Initial resize to set canvas and viewport size
        resizeCanvas();

        function render(time) {
            time *= 0.001; // convert time to seconds

            var iTimeLocation = gl.getUniformLocation(program, "iTime");
            gl.uniform1f(iTimeLocation, time);

            gl.clear(gl.COLOR_BUFFER_BIT);
            gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);

            requestAnimationFrame(render);
        }
        requestAnimationFrame(render);
    </script>
</body>

</html>
